{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "$ref": "#/definitions/C2SLianLianKan",
    "definitions": {
        "C2SLianLianKan": {
            "properties": {
                "uiId": {
                    "type": "integer"
                },
                "operaType": {
                    "enum": [
                        "ELLKO_GET",
                        "ELLKO_MATCHING",
                        "ELLKO_MATCHED",
                        "ELLKO_GAMING",
                        "ELLKO_GAME_END"
                    ],
                    "type": "string",
                    "title": "E Lian Lian Kan Opera"
                },
                "getReq": {
                    "$ref": "#/definitions/msg.LianLianKanGetReq",
                    "additionalProperties": true
                },
                "matching": {
                    "enum": [
                        "ELLKM_INVALID",
                        "ELLKM_APPLY",
                        "ELLKM_TIME_OUT",
                        "ELLKM_CANCEL"
                    ],
                    "type": "string",
                    "title": "E Lian Lian Kan Match"
                },
                "matchedOperaInfo": {
                    "$ref": "#/definitions/msg.LLKMatchedOperaInfo",
                    "additionalProperties": true,
                    "description": "匹配成功后,确认匹配结果"
                },
                "gameOperaInfo": {
                    "$ref": "#/definitions/msg.LLKGameOperaInfo",
                    "additionalProperties": true
                }
            },
            "additionalProperties": true,
            "type": "object",
            "allOf": [
                {
                    "oneOf": [
                        {
                            "not": {
                                "anyOf": [
                                    {
                                        "required": [
                                            "getReq"
                                        ]
                                    },
                                    {
                                        "required": [
                                            "matching"
                                        ]
                                    },
                                    {
                                        "required": [
                                            "matchedOperaInfo"
                                        ]
                                    },
                                    {
                                        "required": [
                                            "gameOperaInfo"
                                        ]
                                    }
                                ]
                            }
                        },
                        {
                            "required": [
                                "getReq"
                            ]
                        },
                        {
                            "required": [
                                "matching"
                            ]
                        },
                        {
                            "required": [
                                "matchedOperaInfo"
                            ]
                        },
                        {
                            "required": [
                                "gameOperaInfo"
                            ]
                        }
                    ]
                }
            ],
            "title": "C 2 S Lian Lian Kan"
        },
        "model.LLKOpera": {
            "properties": {
                "operaType": {
                    "enum": [
                        "EXXL_INVALID",
                        "EXXL_NORMAL",
                        "EXXL_PROPS",
                        "EXXL_TIMEOUT",
                        "EXXL_FLEET"
                    ],
                    "type": "string",
                    "title": "LLK Opera Type"
                },
                "posList": {
                    "items": {
                        "$ref": "#/definitions/model.Position"
                    },
                    "type": "array",
                    "description": "@inject_tag: bson:\"posList\"  操作类型EXXL_NORMAL:传入2个位置"
                },
                "propsID": {
                    "type": "integer",
                    "description": "@inject_tag: bson:\"propsID\"  操作类型EXXL_PROPS:传入道具ID"
                },
                "timestamp": {
                    "type": "integer",
                    "description": "@inject_tag: bson:\"timestamp\"  操作的时间戳(可用于回放或者验证)"
                },
                "randomCount": {
                    "type": "integer",
                    "description": "@inject_tag: bson:\"randomCount\"  随机计数(用于快速恢复最新进度)"
                },
                "comboFlag": {
                    "type": "boolean",
                    "description": "@inject_tag: bson:\"comboFlag\"  是否为连击，前台不用赋值, 后台赋值后广播"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "LLK Opera"
        },
        "model.Position": {
            "properties": {
                "x": {
                    "type": "integer",
                    "description": "@inject_tag: bson:\"x\""
                },
                "y": {
                    "type": "integer",
                    "description": "@inject_tag: bson:\"y\""
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Position"
        },
        "msg.LLKGameOperaInfo": {
            "properties": {
                "roomId": {
                    "type": "string"
                },
                "opera": {
                    "$ref": "#/definitions/model.LLKOpera",
                    "additionalProperties": true
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "LLK Game Opera Info"
        },
        "msg.LLKMatchedOperaInfo": {
            "properties": {
                "matchId": {
                    "type": "string"
                },
                "matchedOpera": {
                    "enum": [
                        "ELLKMO_INVALID",
                        "ELLKMO_CONFIRM",
                        "ELLKMO_REFUSE",
                        "ELLKMO_TIME_OUT_START_GAME",
                        "ELLKMO_TIME_OUT_END_MATCHED",
                        "ELLKMO_LOGOUT"
                    ],
                    "type": "string",
                    "title": "E Lian Lian Kan Matched Opera"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "LLK Matched Opera Info"
        },
        "msg.LianLianKanGetReq": {
            "properties": {
                "operaType": {
                    "enum": [
                        "ELLKG_INVALID",
                        "ELLKG_MATCHED",
                        "ELLKG_GAMING"
                    ],
                    "type": "string",
                    "title": "ELLK Get Opera Type"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Lian Lian Kan Get Req"
        }
    }
}